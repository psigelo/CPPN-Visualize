
#include "cppn.hpp"

using namespace ANN_USM;

int main(int argc, char *argv[])
{
	Genome * genome = new Genome();

	genome->add_node(0, "IDENTITY", INPUT);
	genome->add_node(1, "IDENTITY", INPUT);
	genome->add_node(2, "IDENTITY", OUTPUT);
	genome->add_node(3, "IDENTITY", HIDDEN);
	genome->add_node(4, "IDENTITY", HIDDEN);

	genome->add_connection(0, 0, 3, 1.);
	genome->add_connection(1, 0, 4, 1.);
	genome->add_connection(2, 1, 3, 1.);
	genome->add_connection(3, 1, 4, 1.);
	genome->add_connection(4, 3, 2, 1.);
	genome->add_connection(5, 4, 2, 1.);

	//genome->save(argv[1]);

	double input_1, input_2;

	vector<double> input, output;

	while(cin >> input_1 >> input_2)
	{	
		input.clear();
		output.clear();

		input.push_back(input_1);
		input.push_back(input_2);

		output = genome->eval(input);

		cout << ">" << output.at(0) << endl;
	}
}